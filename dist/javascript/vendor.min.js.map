{"version":3,"sources":["javascript/api.js","javascript/display-images.js","javascript/main.js","javascript/page-loader.js","javascript/search.js"],"names":[],"mappings":"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","file":"vendor.min.js","sourcesContent":["const loadingSpinner = document.querySelector('[data-loading-spinner]');\nlet requestComplete = () => loadingSpinner.classList.remove('spinner--show');\n\nexport default class API {\n  constructor (url, dataHandler, clearContent) {\n    this.loadUrl(url, dataHandler, clearContent);\n    this.requestComplete = requestComplete;\n  }\n\n  clearUI(clearContent) {\n    loadingSpinner.classList.add(\"spinner--show\");\n    if (clearContent) {\n      clearContent.innerHTML = '';\n    }\n  }\n\n  error() {\n    let sorryMessage = document.createElement('div');\n    let sorry = document.createTextNode(`\n      We're sorry, we could not retrieve any images from Flickr.\n      This is most likely connectivity issues, please make sure you are still connected to the internet.\n    `);\n\n    sorryMessage.appendChild(sorry);\n    document.body.appendChild(sorryMessage);\n    requestComplete();\n  }\n\n  loadUrl(url, dataHandler, clearContent) {\n    let call = new XMLHttpRequest();\n    call.open(\"GET\", url, true);\n    call.onload = () => {\n      if (call.readyState === 4) {\n        if (call.status === 200) {\n          dataHandler(JSON.parse(call.responseText));\n          requestComplete();\n        } else {\n          this.error();\n        }\n      }\n    };\n\n    call.onerror = this.error;\n    call.send(null);\n\n    this.clearUI(clearContent);\n  }\n}\n","const SAVED = 'saved';\nconst NEXT_BTN = 'next-page';\n\nexport default class DisplayImages {\n  constructor (imageContainer, CONFIG) {\n    this.imageContainer = imageContainer;\n    this.savedImages = JSON.parse(localStorage.getItem('savedImages')) || [];\n    this.config = CONFIG;\n\n    if (imageContainer) {\n      this.bindEvents(imageContainer);\n    }\n  }\n\n  render(data) {\n    let photo = data.photos.photo;\n    if (photo.length) {\n      this.renderAssets(photo);\n    }\n    else {\n      let sorryMessage = document.createElement('div');\n      let sorry = document.createTextNode(`\n        We're sorry, we could not retrieve any images from Flickr matching your search.\n      `);\n\n      sorryMessage.appendChild(sorry);\n      this.imageContainer.appendChild(sorryMessage);\n    }\n  }\n\n  renderSaved(callback) {\n    this.renderAssets(this.savedImages);\n    callback();\n  }\n\n  renderAssets(assets) {\n    let imageFragments = document.createDocumentFragment();\n    for (let i = 0, assetsLength = assets.length; i < assetsLength; i++) {\n      let asset = assets[i];\n      imageFragments.appendChild(this.renderAsset(asset));\n    }\n    this.imageContainer.innerHTML = '';\n    this.imageContainer.appendChild(imageFragments);\n\n    const nextButton = document.createElement('button');\n    nextButton.id = NEXT_BTN;\n    nextButton.className = 'mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect';\n    nextButton.textContent = 'Next';\n    this.imageContainer.appendChild(nextButton);\n  }\n\n  renderAsset(asset) {\n    let imageCardClass = 'mdl-cell mdl-cell--3-col mdl-cell--4-col-tablet mdl-cell--8-col-phone mdl-card mdl-shadow--2dp';\n    let imageCard = document.createElement('article');\n    let imageSrc = asset;\n    let image = document.createElement('img');\n\n    if (typeof asset === 'object') {\n      const FARM = asset.farm;\n      const SERVER = asset.server;\n      const ID = asset.id;\n      const SECRET = asset.secret;\n      imageSrc = `https://farm${FARM}.staticflickr.com/${SERVER}/${ID}_${SECRET}_c.jpg`;\n    }\n\n    image.src = imageSrc;\n\n    if (this.savedImage(imageSrc)) {\n      imageCardClass = `${imageCardClass} ${SAVED}`;\n    }\n    imageCard.className = imageCardClass;\n\n    let imageCardActions = document.createElement('div');\n    imageCardActions.className = 'mdl-card__actions';\n\n    let imageCardTitle = document.createElement('div');\n    imageCardTitle.className = 'card-image card-image__title';\n\n    if (asset.title) {\n      let imageTitle = document.createTextNode(asset.title);\n      imageCardTitle.appendChild(imageTitle);\n    }\n\n    let imageCardSaved = document.createElement('div');\n    imageCardSaved.className = 'card-image card-image__saved';\n\n    imageCardSaved.innerHTML = '&#x2665;';\n\n    imageCardActions.appendChild(imageCardTitle);\n    imageCardActions.appendChild(imageCardSaved);\n\n    imageCard.appendChild(image);\n    imageCard.appendChild(imageCardActions);\n    return imageCard;\n  }\n\n  bindEvents(imageContainer) {\n    imageContainer.addEventListener('click', e => this.selectedHandler(e));\n  }\n\n  selectedHandler(e) {\n    let target = e.target;\n\n    while (target.nodeName !== 'ARTICLE' && target.nodeName !== 'BUTTON' && target !== document) {\n      target = target.parentNode;\n    }\n\n    if (target === document) {\n      return;\n    }\n\n    if (target.id === NEXT_BTN) {\n      this.config.page++;\n      if (this.urlRequest) {\n        this.urlRequest();\n      }\n      return;\n    }\n\n    target.classList.toggle(SAVED);\n    this.toggleSavedImage(target, target.querySelector('img'));\n  }\n\n  toggleSavedImage(imageCard, selectedImage) {\n    if (imageCard.classList.contains(SAVED)) {\n      this.savedImages.push(selectedImage.src);\n    }\n    else {\n      this.removeSavedImage(selectedImage.src);\n    }\n    this.setSavedImages();\n  }\n\n  removeSavedImage(selectedImage) {\n    for (let i = 0; i < this.savedImages.length; i++) {\n      let image = this.savedImages[i];\n      if (selectedImage === image) {\n        this.savedImages.splice(i, 1);\n        break;\n      }\n    }\n  }\n\n  setSavedImages() {\n    localStorage.removeItem('savedImages');\n    localStorage.setItem('savedImages', JSON.stringify(this.savedImages));\n  }\n\n  savedImage(imageSrc) {\n    let result = false;\n\n    for (let i = 0; i < this.savedImages.length; i++) {\n      let savedImage = this.savedImages[i];\n      if (imageSrc === savedImage) {\n        result = true;\n        break;\n      }\n    }\n    return result;\n  }\n}\n","import API from './api';\nimport DisplayImages from './display-images';\nimport PageLoader from './page-loader';\nimport Search from './search';\n\nconst KEY = '7677e20284c7594041992c9bdd391d8a';\nconst AMOUNT = 24;\nconst CONFIG = {\n  page: 1\n};\nconst imageContainer = document.querySelector('[data-image-container]');\n\nconst searchBar = () => Search.searchBar().value;\nconst URI = () => `https://api.flickr.com/services/rest/?method=flickr.photos.search&api_key=${KEY}&text=${searchBar()}&per_page=${AMOUNT}&page=${CONFIG.page}&content_type=1&format=json&nojsoncallback=1`;\nconst displayImages = new DisplayImages(imageContainer, CONFIG);\n\nlet lastAPICall = null;\n\nconst urlRequest = function () {\n  if (searchBar().length < 3) {\n    return;\n  }\n  lastAPICall = new API(URI(), displayImages.render.bind(displayImages), imageContainer);\n};\n\ndisplayImages.urlRequest = urlRequest;\n\nurlRequest();\n\nconst renderSavedImages = function () {\n  lastAPICall.clearUI(imageContainer);\n  displayImages.renderSaved(lastAPICall.requestComplete);\n};\n\nnew PageLoader([\n  { page: 'index', callback: urlRequest },\n  { page: 'saved', callback: renderSavedImages }\n]);\n\nnew Search(urlRequest, CONFIG);\n","const DEFAULT_NAV = document.querySelectorAll('[data-nav]');\nconst LAYOUT = document.querySelector('[data-mdl-layout]');\nconst DRAWER = document.querySelector('[data-drawer]');\n\nexport default class PageLoader {\n  constructor (pageCallbacks, navigations = DEFAULT_NAV) {\n    this.pageCallbacks = pageCallbacks;\n    this.bindEvents(navigations);\n  }\n\n  bindEvents(navigations) {\n    for (let i = 0, navigationsLength = navigations.length; i < navigationsLength; i++) {\n      navigations[i].addEventListener('click', e => this.pageEventHandler(e));\n    }\n  }\n\n  pageEventHandler(e) {\n    let target = e.target;\n    if (!target) {\n      return;\n    }\n\n    const DATA_ATTRIBUTE = 'data-page';\n\n    if (target.nodeName === 'SPAN' || target.nodeName === 'I') {\n      target = target.parentNode;\n    }\n\n    if (target.nodeName === \"A\" && target.hasAttribute(DATA_ATTRIBUTE)) {\n      this.loadPage(target.getAttribute(DATA_ATTRIBUTE));\n    }\n    e.preventDefault();\n  }\n\n  loadPage(page) {\n    if (LAYOUT && DRAWER && DRAWER.classList.contains('is-visible')) {\n      LAYOUT.MaterialLayout.toggleDrawer();\n    }\n\n    for (let i = 0, pageCallbacksLength = this.pageCallbacks.length; i < pageCallbacksLength; i++) {\n      let callbackOption = this.pageCallbacks[i];\n      if (callbackOption.page === page) {\n        callbackOption.callback();\n      }\n    }\n  }\n}\n","const SEARCH = document.querySelector('[data-search]');\nconst MOBILE_SEARCH = document.querySelector('[data-mobile-search]');\nconst HEADER_ITEMS = document.querySelectorAll('[data-header-item]');\nconst HEADER_ROW = document.querySelector('[data-header-row]');\nconst DESKTOP_SEARCH = document.querySelector('[data-desktop-search]');\nconst MOBILE_ICON = MOBILE_SEARCH.querySelector('i');\n\nexport default class Search {\n  constructor (request, config) {\n    this.config = config;\n    this.bindEvents(request);\n    this.mobileSearch();\n  }\n\n  static searchBar() {\n    return SEARCH;\n  }\n\n  bindEvents(request) {\n    let timer = setTimeout;\n    SEARCH.addEventListener('keyup', e => {\n      if (this.testKey(e)) {\n        clearTimeout(timer);\n        this.config.page = 1;\n        timer = setTimeout(request, 400);\n      }\n      e.preventDefault();\n    });\n  }\n\n  testKey(e) {\n    let value = false;\n    if (e.key && /[a-z]|[A-Z]|[0-9]/.test(e.key)) {\n      value = true;\n    }\n    else if (e.keyCode) {\n      let keyCode = e.keyCode;\n      if ((keyCode > 45 && keyCode < 91) || keyCode === 8) {\n        value = true;\n      }\n      value = false;\n    }\n    return value;\n  }\n\n  mobileSearch () {\n    MOBILE_SEARCH.addEventListener('click', this.toggleMobileSearch);\n  }\n\n  toggleMobileSearch() {\n    let toggleDevice = 'add';\n    let toggleClass = 'remove';\n    let headerPadding = '';\n    let iconValue = 'search';\n\n    if (MOBILE_ICON.innerHTML === 'search') {\n      toggleDevice = 'remove';\n      toggleClass = 'add';\n      headerPadding = '16px';\n      iconValue = 'cancel';\n    }\n\n    MOBILE_ICON.innerHTML = iconValue;\n    this.classList[toggleDevice]('mdl-cell--hide-tablet', 'mdl-cell--hide-desktop');\n\n    for (let i = 0; i < HEADER_ITEMS.length; i++) {\n      HEADER_ITEMS[i].classList[toggleClass]('hidden');\n    }\n    document.querySelector('.mdl-layout__drawer-button').classList[toggleClass]('hidden');\n\n    HEADER_ROW.style.paddingLeft = headerPadding;\n    DESKTOP_SEARCH.classList[toggleDevice]('mdl-cell--hide-phone', 'desktop');\n  }\n}\n"],"sourceRoot":"/source/"}